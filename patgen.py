import sys

def str_from_hex(input):

    s = ""

    input = input[2:]
    for i in range(0, len(input), 2):
        s += chr(int(input[i:i + 2], 16))

    return s[::-1]

def patgen_proc(plen):

    pattern = ""

    for i in range(ord('A'), ord('Z') + 1):
        for j in range(ord('a'), ord('z') + 1):
            for k in range(ord('0'), ord('9') + 1):

                pattern += chr(i) + chr(j) + chr(k)
                if len(pattern) >= plen:
                    return pattern[:plen]

    raise("pattern length too big")

args = sys.argv[1:]

if args[0] == "-f":
    
    to_search = args[1]
    plen = int(args[2], 10)

    p = patgen_proc(plen)

    pos = p.find(to_search)
    print(pos)
    quit()

elif args[0] == "-fh":

    to_search = str_from_hex(args[1])
    plen = int(args[2], 10)

    p = patgen_proc(plen)

    pos = p.find(to_search)
    print(pos)
    quit()

elif args[0] == "-g":

    plen = int(args[1], 10)
    p = patgen_proc(plen)

    print(p)
    quit()

else:
    raise("unknown command (select g or f)")